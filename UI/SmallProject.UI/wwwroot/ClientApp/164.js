(self.webpackChunkclient_app=self.webpackChunkclient_app||[]).push([[164],{5164:(e,t,n)=>{"use strict";n.r(t),n.d(t,{OffersModule:()=>Z});var o=n(8583),i=n(3256),r=n(8207),c=n(3018),l=n(8756),a=n(9725),s=n(665);let d=(()=>{class e{constructor(e,t){this.dialogRef=e,this._offerService=t,this.model=new r.xD}submitProposal(){this._offerService.createOffer(this.model).subscribe(e=>{this.dialogRef.close(!0)})}cancel(){this.dialogRef.close(!1)}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(l.so),c.Y36(a.K))},e.\u0275cmp=c.Xpm({type:e,selectors:[["get-offer"]],decls:24,vars:4,consts:[[1,""],["clsas","form-group"],["for","distance"],["id","distance","type","number","min","1",1,"form-control",3,"ngModel","ngModelChange"],["for","livingarea"],["id","livingarea","type","number",1,"form-control",3,"ngModel","ngModelChange"],["for","atticarea"],["id","atticarea","type","number",1,"form-control",3,"ngModel","ngModelChange"],["clsas","form-check"],["id","piano","type","checkbox",1,"form-check-input",3,"ngModel","ngModelChange"],["for","piano",1,"form-check-label"],[1,"col","text-center"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(e,t){1&e&&(c.TgZ(0,"h3",0),c._uU(1,"Get an offer"),c.qZA(),c.TgZ(2,"form"),c.TgZ(3,"div",1),c.TgZ(4,"label",2),c._uU(5,"Distance"),c.qZA(),c.TgZ(6,"input",3),c.NdJ("ngModelChange",function(e){return t.model.Distance=e}),c.qZA(),c.qZA(),c.TgZ(7,"div",1),c.TgZ(8,"label",4),c._uU(9,"Living area"),c.qZA(),c.TgZ(10,"input",5),c.NdJ("ngModelChange",function(e){return t.model.LivingArea=e}),c.qZA(),c.qZA(),c.TgZ(11,"div",1),c.TgZ(12,"label",6),c._uU(13,"Attic area"),c.qZA(),c.TgZ(14,"input",7),c.NdJ("ngModelChange",function(e){return t.model.AtticArea=e}),c.qZA(),c.qZA(),c.TgZ(15,"div",8),c.TgZ(16,"input",9),c.NdJ("ngModelChange",function(e){return t.model.PianoIncluded=e}),c.qZA(),c.TgZ(17,"label",10),c._uU(18,"Piano included"),c.qZA(),c.qZA(),c.TgZ(19,"div",11),c.TgZ(20,"button",12),c.NdJ("click",function(){return t.submitProposal()}),c._uU(21,"Submit"),c.qZA(),c.TgZ(22,"button",13),c.NdJ("click",function(){return t.cancel()}),c._uU(23,"Cancel"),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(6),c.Q6J("ngModel",t.model.Distance),c.xp6(4),c.Q6J("ngModel",t.model.LivingArea),c.xp6(4),c.Q6J("ngModel",t.model.AtticArea),c.xp6(2),c.Q6J("ngModel",t.model.PianoIncluded))},directives:[s._Y,s.JL,s.F,s.qQ,s.wV,s.Fj,s.JJ,s.On,s.Wl],encapsulation:2}),e})();function f(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"tr",10),c.TgZ(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.qZA(),c.TgZ(5,"td"),c._uU(6),c.qZA(),c.TgZ(7,"td"),c._uU(8),c.qZA(),c.TgZ(9,"td"),c._uU(10),c.qZA(),c.TgZ(11,"td"),c.TgZ(12,"a",11),c.NdJ("click",function(){const t=c.CHM(e).$implicit;return c.oxw(2).openOfferDetails(t.id)}),c._uU(13,"click here"),c.qZA(),c.qZA(),c.qZA()}if(2&e){const e=t.$implicit;c.xp6(2),c.Oqu(e.distance),c.xp6(2),c.Oqu(e.livingArea),c.xp6(2),c.Oqu(e.atticArea),c.xp6(2),c.Oqu(e.pianoIncluded),c.xp6(2),c.hij("",e.totalPrice," SEK")}}function u(e,t){if(1&e&&(c.TgZ(0,"table",6),c.TgZ(1,"thead"),c.TgZ(2,"tr",7),c.TgZ(3,"th",8),c._uU(4,"Distance"),c.qZA(),c.TgZ(5,"th",8),c._uU(6,"Living area"),c.qZA(),c.TgZ(7,"th",8),c._uU(8,"Attic area"),c.qZA(),c.TgZ(9,"th",8),c._uU(10,"Piano included"),c.qZA(),c.TgZ(11,"th",8),c._uU(12,"Total price"),c.qZA(),c.TgZ(13,"th",8),c._uU(14,"Details"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(15,"tbody"),c.YNc(16,f,14,5,"tr",9),c.qZA(),c.qZA()),2&e){const e=c.oxw();c.xp6(16),c.Q6J("ngForOf",e.offers)}}let g=(()=>{class e{constructor(e,t,n){this._offerService=e,this.dialog=t,this._router=n}ngOnInit(){this.getAllOffers()}getAllOffers(){this._offerService.getAllOffers().subscribe(e=>{this.offers=e})}openGetOfferModal(){this.dialog.open(d,{width:"450px"}).afterClosed().subscribe(e=>{e&&this.getAllOffers()})}openOfferDetails(e){let t=this._router.createUrlTree(["offer-details",e]),n=window.location.href.replace(this._router.url,"");window.open(n+t,"_blank")}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(a.K),c.Y36(l.uw),c.Y36(i.F0))},e.\u0275cmp=c.Xpm({type:e,selectors:[["offers"]],decls:12,vars:1,consts:[[1,"row"],[1,"col-md-7"],[1,"col-md-1","text-right"],[1,"btn","btn","btn-info",3,"click"],[1,"col-md-8"],["class","table table-bordered",4,"ngIf"],[1,"table","table-bordered"],[1,"table-primary"],["scope","col"],["scope","row",4,"ngFor","ngForOf"],["scope","row"],[1,"link-info",3,"click"]],template:function(e,t){1&e&&(c._UZ(0,"br"),c._UZ(1,"br"),c._UZ(2,"br"),c.TgZ(3,"div",0),c.TgZ(4,"div",1),c.TgZ(5,"h3"),c._uU(6,"Offers"),c.qZA(),c.qZA(),c.TgZ(7,"div",2),c.TgZ(8,"button",3),c.NdJ("click",function(){return t.openGetOfferModal()}),c._uU(9," Get an offer "),c.qZA(),c.qZA(),c.qZA(),c.TgZ(10,"div",4),c.YNc(11,u,17,1,"table",5),c.qZA()),2&e&&(c.xp6(11),c.Q6J("ngIf",null!=t.offers&&null!=t.offers))},directives:[o.O5,o.sg],encapsulation:2}),e})(),Z=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[o.ez,i.Bz.forChild([{path:"",component:g}])]]}),e})()}}]);